{% extends 'base.html' %}

{% block content %}
    <hr>
    <h2>Avisos Importantes</h2>
    {% for aviso in avisos %}
        <div class="aviso">
            <h3>{{ aviso.titulo }}</h3>
            <p>{{ aviso.conteudo }}</p>
            <small>Publicado em: {{ aviso.data_publicacao|date:"d/m/Y H:i" }}</small>
        </div>
    {% endfor %}

    <hr> 

<section class="py-5">
    <h2>Aniversariantes do Mês</h2>

    {% if aniversariantes %}
        <div class="swiper-container">
            <div class="swiper-wrapper">
                {% for funcionario in aniversariantes %}
                <div class="swiper-slide">
                    <strong>{{ funcionario.nome_completo }}</strong>
                    <p>Aniversário: {{ funcionario.data_nascimento.day }}/{{ funcionario.data_nascimento.month }}</p>
                </div>
                {% endfor %}
            </div>
            <div class="swiper-pagination"></div>
            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>
        </div>
    {% else %}
        <p>Nenhum aniversariante este mês.</p>
    {% endif %}
</section>

{% endblock %}

{% block extra_js %}
    <script>
        if (document.querySelector('.swiper-container')) {
        var swiper = new Swiper('.swiper-container', {
        effect: 'coverflow', grabCursor: true, centeredSlides: true,
        slidesPerView: 'auto', loop: true,
        autoplay: { delay: 4000, disableOnInteraction: false, pauseOnMouseEnter: true },
        coverflowEffect: { rotate: 30, stretch: 0, depth: 100, modifier: 1, slideShadows: true },
        pagination: { el: '.swiper-pagination', clickable: true },
        navigation: { nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev' },
    });
}
    </script>
{% endblock %}